{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dracumel\\\\Desktop\\\\group project\\\\groupREVISED\\\\frontend\\\\src\\\\screens\\\\ProfileScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Button, Form, Table } from 'react-bootstrap';\nimport axios from 'axios';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ProfileScreen() {\n  _s();\n\n  var loggedUser = localStorage.getItem('user');\n  var foundUser = JSON.parse(loggedUser);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [orders, setOrders] = useState([]);\n  const [user, setUser] = useState();\n\n  const submitHandler = async e => {\n    e.preventDefault();\n\n    if (password !== confirmPassword) {\n      alert(\"Password does not match\");\n    } else {\n      const response = await axios.post(\"/api/users/profile/update/\", {\n        \"name\": name,\n        \"email\": email,\n        \"password\": password\n      }, {\n        \"headers\": {\n          \"Authorization\": `Bearer ${foundUser.token}`\n        }\n      });\n      setUser(response.data);\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\n      window.location.reload();\n    }\n  };\n\n  const ColoredLine = ({\n    color,\n    height\n  }) => /*#__PURE__*/_jsxDEV(\"hr\", {\n    style: {\n      color: color,\n      backgroundColor: color,\n      height: height\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n\n  useEffect(() => {\n    async function fetchOrders() {\n      const {\n        data\n      } = await axios.get('/api/orders/myorders/', {\n        'headers': {\n          'Authorization': `Bearer ${foundUser.token}`\n        }\n      });\n      setOrders(data);\n    }\n\n    fetchOrders();\n  }, []);\n\n  if (loggedUser) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          backgroundColor: \"DarkSeaGreen\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          style: {\n            marginTop: \"5rem\",\n            paddingLeft: \"1%\",\n            paddingTop: \"1%\",\n            borderBottom: \"0px solid brown\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: \"25px\",\n              marginLeft: \"9%\",\n              color: \"black\",\n              textAlign: \"left\"\n            },\n            children: [\"Hello, \", foundUser.name, \" !\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(ColoredLine, {\n            color: \"black\",\n            height: \"2px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(ColoredLine, {\n            color: \"black\",\n            height: \"2px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          paddingTop: \"5rem\",\n          paddingBottom: \"10rem\",\n          paddingLeft: \"10%\",\n          paddingRight: \"3rem\",\n          backgroundColor: \"DarkSeaGreen\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          style: {\n            width: \"40%\",\n            height: \"530px\",\n            marginLeft: \"0%\",\n            marginRight: \"10%\",\n            border: \"1px solid black\",\n            borderRadius: \"1rem\",\n            boxShadow: \" 0rem 0rem 1rem 0.2rem black\",\n            fontSize: \"20px\",\n            padding: \"1rem\",\n            backgroundColor: \"white\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              paddingTop: \"4%\",\n              color: \"Brown\"\n            },\n            children: \"Change Personal Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: submitHandler,\n            style: {\n              padding: \"4%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"fname\",\n              style: {\n                paddingTop: \"2%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                style: {\n                  fontSize: \"15px\"\n                },\n                required: true,\n                type: \"name\",\n                placeholder: foundUser.name,\n                value: name,\n                onChange: e => setName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"email\",\n              style: {\n                paddingTop: \"4%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Email Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                style: {\n                  fontSize: \"15px\"\n                },\n                required: true,\n                type: \"email\",\n                placeholder: foundUser.email,\n                value: email,\n                onChange: e => setEmail(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"password\",\n              style: {\n                paddingTop: \"4%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                style: {\n                  fontSize: \"15px\"\n                },\n                type: \"password\",\n                placeholder: \"Enter Password\",\n                value: password,\n                onChange: e => setPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"passwordConfirm\",\n              style: {\n                paddingTop: \"4%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Confirm Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                style: {\n                  fontSize: \"15px\"\n                },\n                type: \"password\",\n                placeholder: \"Confirm Password\",\n                value: confirmPassword,\n                onChange: e => setConfirmPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"submitButton3\",\n              type: \"submit\",\n              style: {\n                margin: \"40px\",\n                marginTop: \"30px\",\n                paddding: \"15px\",\n                marginLeft: \"35%\",\n                width: \"120px\",\n                height: \"50px\",\n                fontSize: \"15px\",\n                borderRadius: \"5px\"\n              },\n              variant: \"primary\",\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 9,\n          xl: 6,\n          style: {\n            marginRight: \"5%\",\n            fontSize: \"27px\",\n            padding: \"1rem\",\n            paddingTop: \"3%\",\n            backgroundColor: \"rgba(0, 0, 0, 0.4)\",\n            color: \"black\",\n            borderRadius: \"1%\",\n            border: \"1px solid black\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: \"19px\",\n              paddingTop: \"2rem\",\n              color: \"white\"\n            },\n            children: [foundUser.name, \"'s Orders\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            responsive: true,\n            className: \"table-sm\",\n            style: {\n              color: \"black\",\n              textAlign: \"center\",\n              border: \"none\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    fontSize: \"20px\"\n                  },\n                  children: \"ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    fontSize: \"20px\"\n                  },\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    fontSize: \"20px\"\n                  },\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    fontSize: \"20px\"\n                  },\n                  children: \"Paid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    fontSize: \"20px\"\n                  },\n                  children: \"Delivered\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: orders.map(order => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: order.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: order.createdAt.substring(0, 10)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: order.totalPrice\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-times\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(LinkContainer, {\n                    to: \"#\",\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      className: \"btn-sm\",\n                      children: \"Details\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 37\n                }, this)]\n              }, order.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n}\n\n_s(ProfileScreen, \"Lb03iMLyPDyRICoW1H5BdxSl7o8=\");\n\n_c = ProfileScreen;\nexport default ProfileScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileScreen\");","map":{"version":3,"sources":["C:/Users/Dracumel/Desktop/group project/groupREVISED/frontend/src/screens/ProfileScreen.js"],"names":["React","useState","useEffect","Container","Row","Col","Button","Form","Table","axios","LinkContainer","ProfileScreen","loggedUser","localStorage","getItem","foundUser","JSON","parse","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","orders","setOrders","user","setUser","submitHandler","e","preventDefault","alert","response","post","token","data","setItem","stringify","window","location","reload","ColoredLine","color","height","backgroundColor","fetchOrders","get","marginTop","paddingLeft","paddingTop","borderBottom","fontSize","marginLeft","textAlign","paddingBottom","paddingRight","width","marginRight","border","borderRadius","boxShadow","padding","target","value","margin","paddding","map","order","id","createdAt","substring","totalPrice"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,MAA9B,EAAuCC,IAAvC,EAA8CC,KAA9C,QAA0D,iBAA1D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,aAAR,QAA4B,wBAA5B;;;;AAEA,SAASC,aAAT,GAAyB;AAAA;;AAErB,MAAIC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB;AACA,MAAIC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWL,UAAX,CAAhB;AAEA,QAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBlB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACmB,KAAD,EAAQC,QAAR,IAAoBpB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACqB,QAAD,EAAWC,WAAX,IAA0BtB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACuB,eAAD,EAAkBC,kBAAlB,IAAwCxB,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACyB,MAAD,EAAUC,SAAV,IAAuB1B,QAAQ,CAAC,EAAD,CAArC;AAEA,QAAM,CAAC2B,IAAD,EAAQC,OAAR,IAAmB5B,QAAQ,EAAjC;;AAEA,QAAM6B,aAAa,GAAG,MAAOC,CAAP,IAAa;AAC/BA,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAIV,QAAQ,KAAKE,eAAjB,EAAkC;AAC9BS,MAAAA,KAAK,CAAC,yBAAD,CAAL;AACH,KAFD,MAEO;AAEH,YAAMC,QAAQ,GAAG,MAAMzB,KAAK,CAAC0B,IAAN,CAAW,4BAAX,EAAyC;AAC3D,gBAASjB,IADkD;AAE3D,iBAASE,KAFkD;AAG3D,oBAAaE;AAH8C,OAAzC,EAIrB;AACG,mBAAW;AACR,2BAAmB,UAASP,SAAS,CAACqB,KAAM;AADpC;AADd,OAJqB,CAAvB;AAWAP,MAAAA,OAAO,CAACK,QAAQ,CAACG,IAAV,CAAP;AAGAxB,MAAAA,YAAY,CAACyB,OAAb,CAAqB,MAArB,EAA6BtB,IAAI,CAACuB,SAAL,CAAeL,QAAQ,CAACG,IAAxB,CAA7B;AAEAG,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH;AACJ,GAzBD;;AA4BA,QAAMC,WAAW,GAAG,CAAC;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAD,kBAChB;AACI,IAAA,KAAK,EAAE;AACHD,MAAAA,KAAK,EAAEA,KADJ;AAEHE,MAAAA,eAAe,EAAEF,KAFd;AAGHC,MAAAA,MAAM,EAAEA;AAHL;AADX;AAAA;AAAA;AAAA;AAAA,UADJ;;AAUA3C,EAAAA,SAAS,CAAC,MAAM;AAEZ,mBAAe6C,WAAf,GAA4B;AAExB,YAAM;AAACV,QAAAA;AAAD,UAAS,MAAM5B,KAAK,CAACuC,GAAN,CAAU,uBAAV,EAAoC;AACrD,mBAAW;AACP,2BAAkB,UAASjC,SAAS,CAACqB,KAAM;AADpC;AAD0C,OAApC,CAArB;AAMAT,MAAAA,SAAS,CAACU,IAAD,CAAT;AAEH;;AACDU,IAAAA,WAAW;AACd,GAdQ,EAcL,EAdK,CAAT;;AAkBA,MAAInC,UAAJ,EAAe;AAEf,wBACA;AAAA,8BAIQ,QAAC,GAAD;AAAM,QAAA,KAAK,EAAI;AAAEkC,UAAAA,eAAe,EAAE;AAAnB,SAAf;AAAA,+BAEI,QAAC,SAAD;AAAW,UAAA,KAAK,EAAE;AAACG,YAAAA,SAAS,EAAC,MAAX;AAAmBC,YAAAA,WAAW,EAAC,IAA/B;AAAqCC,YAAAA,UAAU,EAAE,IAAjD;AAAuDC,YAAAA,YAAY,EAAC;AAApE,WAAlB;AAAA,kCAEI;AAAI,YAAA,KAAK,EAAG;AAAEC,cAAAA,QAAQ,EAAE,MAAZ;AAAoBC,cAAAA,UAAU,EAAE,IAAhC;AAAsCV,cAAAA,KAAK,EAAE,OAA7C;AAAuDW,cAAAA,SAAS,EAAG;AAAnE,aAAZ;AAAA,kCAAiGxC,SAAS,CAACG,IAA3G;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAII,QAAC,WAAD;AAAa,YAAA,KAAK,EAAC,OAAnB;AAA2B,YAAA,MAAM,EAAE;AAAnC;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAKI,QAAC,WAAD;AAAa,YAAA,KAAK,EAAC,OAAnB;AAA2B,YAAA,MAAM,EAAE;AAAnC;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,cAJR,eAgBQ,QAAC,GAAD;AAAK,QAAA,KAAK,EAAE;AAACiC,UAAAA,UAAU,EAAC,MAAZ;AACAK,UAAAA,aAAa,EAAC,OADd;AAEAN,UAAAA,WAAW,EAAC,KAFZ;AAGAO,UAAAA,YAAY,EAAC,MAHb;AAIAX,UAAAA,eAAe,EAAE;AAJjB,SAAZ;AAAA,gCAMI,QAAC,GAAD;AAAM,UAAA,KAAK,EAAE;AAAWY,YAAAA,KAAK,EAAC,KAAjB;AACWb,YAAAA,MAAM,EAAG,OADpB;AAEWS,YAAAA,UAAU,EAAC,IAFtB;AAGWK,YAAAA,WAAW,EAAC,KAHvB;AAIWC,YAAAA,MAAM,EAAC,iBAJlB;AAKWC,YAAAA,YAAY,EAAC,MALxB;AAMWC,YAAAA,SAAS,EAAC,8BANrB;AAOWT,YAAAA,QAAQ,EAAC,MAPpB;AAQWU,YAAAA,OAAO,EAAC,MARnB;AASWjB,YAAAA,eAAe,EAAE;AAT5B,WAAb;AAAA,kCAgBI;AAAI,YAAA,KAAK,EAAI;AAAES,cAAAA,SAAS,EAAE,QAAb;AAAwBJ,cAAAA,UAAU,EAAE,IAApC;AAA0CP,cAAAA,KAAK,EAAE;AAAjD,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhBJ,eAkBI,QAAC,IAAD;AAAM,YAAA,QAAQ,EAAEd,aAAhB;AAA+B,YAAA,KAAK,EAAI;AAAEiC,cAAAA,OAAO,EAAG;AAAZ,aAAxC;AAAA,oCAEI,QAAC,IAAD,CAAM,KAAN;AAAY,cAAA,SAAS,EAAC,OAAtB;AAA8B,cAAA,KAAK,EAAI;AAAEZ,gBAAAA,UAAU,EAAG;AAAf,eAAvC;AAAA,sCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,gBAAA,KAAK,EAAI;AAAEE,kBAAAA,QAAQ,EAAE;AAAZ,iBAAvB;AACI,gBAAA,QAAQ,MADZ;AAEI,gBAAA,IAAI,EAAC,MAFT;AAGI,gBAAA,WAAW,EAAEtC,SAAS,CAACG,IAH3B;AAII,gBAAA,KAAK,EAAEA,IAJX;AAKI,gBAAA,QAAQ,EAAGa,CAAD,IAAOZ,OAAO,CAACY,CAAC,CAACiC,MAAF,CAASC,KAAV;AAL5B;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAcI,QAAC,IAAD,CAAM,KAAN;AAAY,cAAA,SAAS,EAAC,OAAtB;AAA8B,cAAA,KAAK,EAAI;AAAEd,gBAAAA,UAAU,EAAG;AAAf,eAAvC;AAAA,sCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,gBAAA,KAAK,EAAI;AAAEE,kBAAAA,QAAQ,EAAE;AAAZ,iBAAvB;AACI,gBAAA,QAAQ,MADZ;AAEI,gBAAA,IAAI,EAAC,OAFT;AAGI,gBAAA,WAAW,EAAEtC,SAAS,CAACK,KAH3B;AAII,gBAAA,KAAK,EAAEA,KAJX;AAKI,gBAAA,QAAQ,EAAGW,CAAD,IAAOV,QAAQ,CAACU,CAAC,CAACiC,MAAF,CAASC,KAAV;AAL7B;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAdJ,eA0BI,QAAC,IAAD,CAAM,KAAN;AAAY,cAAA,SAAS,EAAC,UAAtB;AAAiC,cAAA,KAAK,EAAI;AAAEd,gBAAAA,UAAU,EAAG;AAAf,eAA1C;AAAA,sCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,gBAAA,KAAK,EAAI;AAAEE,kBAAAA,QAAQ,EAAE;AAAZ,iBAAvB;AAEI,gBAAA,IAAI,EAAC,UAFT;AAGI,gBAAA,WAAW,EAAC,gBAHhB;AAII,gBAAA,KAAK,EAAE/B,QAJX;AAKI,gBAAA,QAAQ,EAAGS,CAAD,IAAOR,WAAW,CAACQ,CAAC,CAACiC,MAAF,CAASC,KAAV;AALhC;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBA1BJ,eAqCI,QAAC,IAAD,CAAM,KAAN;AAAY,cAAA,SAAS,EAAC,iBAAtB;AAAwC,cAAA,KAAK,EAAI;AAAEd,gBAAAA,UAAU,EAAG;AAAf,eAAjD;AAAA,sCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,gBAAA,KAAK,EAAI;AAAEE,kBAAAA,QAAQ,EAAE;AAAZ,iBAAvB;AAEI,gBAAA,IAAI,EAAC,UAFT;AAGI,gBAAA,WAAW,EAAC,kBAHhB;AAII,gBAAA,KAAK,EAAE7B,eAJX;AAKI,gBAAA,QAAQ,EAAGO,CAAD,IAAON,kBAAkB,CAACM,CAAC,CAACiC,MAAF,CAASC,KAAV;AALvC;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBArCJ,eAgDI,QAAC,MAAD;AAAQ,cAAA,SAAS,EAAC,eAAlB;AAAkC,cAAA,IAAI,EAAC,QAAvC;AAAgD,cAAA,KAAK,EAAE;AACHC,gBAAAA,MAAM,EAAE,MADL;AAEHjB,gBAAAA,SAAS,EAAE,MAFR;AAGHkB,gBAAAA,QAAQ,EAAE,MAHP;AAIHb,gBAAAA,UAAU,EAAE,KAJT;AAKHI,gBAAAA,KAAK,EAAE,OALJ;AAMHb,gBAAAA,MAAM,EAAE,MANL;AAOHQ,gBAAAA,QAAQ,EAAE,MAPP;AAQHQ,gBAAAA,YAAY,EAAE;AARX,eAAvD;AASA,cAAA,OAAO,EAAC,SATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAhDJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAlBJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,eAsFI,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE,CAAT;AAAY,UAAA,EAAE,EAAE,CAAhB;AAAoB,UAAA,KAAK,EAAE;AAACF,YAAAA,WAAW,EAAC,IAAb;AACCN,YAAAA,QAAQ,EAAC,MADV;AAECU,YAAAA,OAAO,EAAC,MAFT;AAGCZ,YAAAA,UAAU,EAAG,IAHd;AAICL,YAAAA,eAAe,EAAE,oBAJlB;AAKCF,YAAAA,KAAK,EAAE,OALR;AAMCiB,YAAAA,YAAY,EAAG,IANhB;AAOCD,YAAAA,MAAM,EAAC;AAPR,WAA3B;AAAA,kCAQI;AAAI,YAAA,KAAK,EAAI;AAAEP,cAAAA,QAAQ,EAAE,MAAZ;AAAoBF,cAAAA,UAAU,EAAE,MAAhC;AAAwCP,cAAAA,KAAK,EAAE;AAA/C,aAAb;AAAA,uBAA0E7B,SAAS,CAACG,IAApF;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ,eAUI,QAAC,KAAD;AAAO,YAAA,UAAU,MAAjB;AAAkB,YAAA,SAAS,EAAC,UAA5B;AAAuC,YAAA,KAAK,EAAI;AAAE0B,cAAAA,KAAK,EAAE,OAAT;AAAkBW,cAAAA,SAAS,EAAC,QAA5B;AAAsCK,cAAAA,MAAM,EAAC;AAA7C,aAAhD;AAAA,oCACI;AAAA,qCACI;AAAA,wCACI;AAAI,kBAAA,KAAK,EAAE;AAACP,oBAAAA,QAAQ,EAAC;AAAV,mBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAI,kBAAA,KAAK,EAAE;AAACA,oBAAAA,QAAQ,EAAC;AAAV,mBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI;AAAI,kBAAA,KAAK,EAAE;AAACA,oBAAAA,QAAQ,EAAC;AAAV,mBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,eAII;AAAI,kBAAA,KAAK,EAAE;AAACA,oBAAAA,QAAQ,EAAC;AAAV,mBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJJ,eAKI;AAAI,kBAAA,KAAK,EAAE;AAACA,oBAAAA,QAAQ,EAAC;AAAV,mBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALJ,eAMI;AAAA;AAAA;AAAA;AAAA,wBANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAWI;AAAA,wBACK3B,MAAM,CAAC0C,GAAP,CAAWC,KAAK,iBACb;AAAA,wCACI;AAAA,4BAAKA,KAAK,CAACC;AAAX;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAA,4BAAKD,KAAK,CAACE,SAAN,CAAgBC,SAAhB,CAA0B,CAA1B,EAA6B,EAA7B;AAAL;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI;AAAA,4BAAKH,KAAK,CAACI;AAAX;AAAA;AAAA;AAAA;AAAA,wBAHJ,eAII;AAAA,yCACI;AAAG,oBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAJJ,eAOI;AAAA,yCACI,QAAC,aAAD;AAAe,oBAAA,EAAE,EAAC,GAAlB;AAAA,2CACI,QAAC,MAAD;AAAQ,sBAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAPJ;AAAA,iBAASJ,KAAK,CAACC,EAAf;AAAA;AAAA;AAAA;AAAA,sBADH;AADL;AAAA;AAAA;AAAA;AAAA,oBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBR;AAAA,oBADA;AAmJH;AACA;;GA3NQ3D,a;;KAAAA,a;AA4NT,eAAeA,aAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Container, Row, Col, Button , Form , Table} from 'react-bootstrap'\r\nimport axios from 'axios'\r\nimport {LinkContainer} from 'react-router-bootstrap'\r\n\r\nfunction ProfileScreen() {\r\n   \r\n    var loggedUser = localStorage.getItem('user')\r\n    var foundUser = JSON.parse(loggedUser);\r\n\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n    const [orders , setOrders] = useState([])\r\n    \r\n    const [user , setUser] = useState()\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault()\r\n\r\n        if (password !== confirmPassword) {\r\n            alert(\"Password does not match\")\r\n        } else {\r\n           \r\n            const response = await axios.post(\"/api/users/profile/update/\", {   \r\n                 \"name\" : name,\r\n                 \"email\": email,\r\n                 \"password\" : password\r\n            },{\r\n                 \"headers\": {\r\n                    \"Authorization\" : `Bearer ${foundUser.token}`\r\n                   },\r\n            \r\n                \r\n            });\r\n            setUser(response.data);\r\n            \r\n            \r\n            localStorage.setItem(\"user\", JSON.stringify(response.data)); \r\n            \r\n            window.location.reload();  \r\n        }      \r\n    }\r\n\r\n\r\n    const ColoredLine = ({ color, height }) => (\r\n        <hr\r\n            style={{\r\n                color: color,\r\n                backgroundColor: color,\r\n                height: height\r\n            }}\r\n        />\r\n    );  \r\n\r\n    useEffect(() => {\r\n   \r\n        async function fetchOrders(){\r\n            \r\n            const {data} = await axios.get('/api/orders/myorders/' , {\r\n                'headers': {\r\n                    'Authorization': `Bearer ${foundUser.token}`\r\n                 }\r\n            })\r\n          \r\n            setOrders(data) \r\n\r\n        } \r\n        fetchOrders()\r\n    } , [])\r\n\r\n    \r\n   \r\n    if (loggedUser){\r\n\r\n    return (\r\n    <>\r\n            \r\n        \r\n            \r\n            <Row  style = {{ backgroundColor: \"DarkSeaGreen\", }}>\r\n                \r\n                <Container style={{marginTop:\"5rem\", paddingLeft:\"1%\", paddingTop: \"1%\", borderBottom:\"0px solid brown\",}}>\r\n                    \r\n                    <h3 style= {{ fontSize: \"25px\", marginLeft: \"9%\", color: \"black\",  textAlign : \"left\",}}>Hello, {foundUser.name} !</h3>\r\n                    \r\n                    <ColoredLine color=\"black\" height= \"2px\" />\r\n                    <ColoredLine color=\"black\" height= \"2px\" />\r\n                \r\n                </Container>\r\n            </Row>\r\n            \r\n            <Row style={{paddingTop:\"5rem\" ,\r\n                        paddingBottom:\"10rem\" ,\r\n                        paddingLeft:\"10%\" ,\r\n                        paddingRight:\"3rem\" ,\r\n                        backgroundColor: \"DarkSeaGreen\",\r\n                    }}>\r\n                <Col  style={{          width:\"40%\",\r\n                                        height : \"530px\",\r\n                                        marginLeft:\"0%\",\r\n                                        marginRight:\"10%\",\r\n                                        border:\"1px solid black\",\r\n                                        borderRadius:\"1rem\",\r\n                                        boxShadow:\" 0rem 0rem 1rem 0.2rem black\",\r\n                                        fontSize:\"20px\",\r\n                                        padding:\"1rem\",\r\n                                        backgroundColor: \"white\",\r\n                                        }}>\r\n\r\n\r\n\r\n\r\n\r\n                    <h2 style = {{ textAlign: \"center\" , paddingTop: \"4%\", color: \"Brown\",}}>Change Personal Info</h2>\r\n\r\n                    <Form onSubmit={submitHandler} style = {{ padding : \"4%\", }}>\r\n\r\n                        <Form.Group controlId='fname' style = {{ paddingTop : \"2%\", }}>\r\n                            <Form.Label >Name</Form.Label>\r\n                            <Form.Control style = {{ fontSize: \"15px\", }}\r\n                                required\r\n                                type='name'\r\n                                placeholder={foundUser.name}\r\n                                value={name}\r\n                                onChange={(e) => setName(e.target.value)}\r\n                            >\r\n                        </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId='email' style = {{ paddingTop : \"4%\", }}>\r\n                            <Form.Label >Email Address</Form.Label>\r\n                            <Form.Control style = {{ fontSize: \"15px\", }}\r\n                                required\r\n                                type='email'\r\n                                placeholder={foundUser.email}\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                            >\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId='password' style = {{ paddingTop : \"4%\", }}>\r\n                            <Form.Label >Password</Form.Label>\r\n                            <Form.Control style = {{ fontSize: \"15px\", }}\r\n\r\n                                type='password'\r\n                                placeholder='Enter Password'\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                            >\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group controlId='passwordConfirm' style = {{ paddingTop : \"4%\", }}>\r\n                            <Form.Label >Confirm Password</Form.Label>\r\n                            <Form.Control style = {{ fontSize: \"15px\", }}\r\n\r\n                                type='password'\r\n                                placeholder='Confirm Password'\r\n                                value={confirmPassword}\r\n                                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                            >\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        <Button className=\"submitButton3\" type=\"submit\" style={{\r\n                                                                            margin: \"40px\",\r\n                                                                            marginTop: \"30px\",\r\n                                                                            paddding: \"15px\",\r\n                                                                            marginLeft: \"35%\",\r\n                                                                            width: \"120px\",\r\n                                                                            height: \"50px\",\r\n                                                                            fontSize: \"15px\",\r\n                                                                            borderRadius: \"5px\",                                                                       }}\r\n                        variant=\"primary\">\r\n                        Update\r\n                    </Button>\r\n                    </Form>\r\n                </Col>\r\n                <Col md={9} xl={6}  style={{marginRight:\"5%\",\r\n                                            fontSize:\"27px\",\r\n                                            padding:\"1rem\",\r\n                                            paddingTop : \"3%\",\r\n                                            backgroundColor: \"rgba(0, 0, 0, 0.4)\",\r\n                                            color: \"black\",\r\n                                            borderRadius : \"1%\",\r\n                                            border:\"1px solid black\"}}>\r\n                    <h2 style = {{ fontSize: \"19px\", paddingTop: \"2rem\", color: \"white\", }} >{foundUser.name}'s Orders</h2>            \r\n                      \r\n                    <Table responsive className='table-sm' style = {{ color: \"black\", textAlign:\"center\" ,border:\"none\"}}>\r\n                        <thead >\r\n                            <tr >\r\n                                <th style={{fontSize:\"20px\"}}>ID</th>\r\n                                <th style={{fontSize:\"20px\"}}>Date</th>\r\n                                <th style={{fontSize:\"20px\"}}>Total</th>\r\n                                <th style={{fontSize:\"20px\"}}>Paid</th>\r\n                                <th style={{fontSize:\"20px\"}}>Delivered</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {orders.map(order => (\r\n                                <tr key={order.id}>\r\n                                    <td>{order.id}</td>\r\n                                    <td>{order.createdAt.substring(0, 10)}</td>\r\n                                    <td>{order.totalPrice}</td>\r\n                                    <td>\r\n                                        <i className='fas fa-times'></i>\r\n                                    </td>\r\n                                    <td>\r\n                                        <LinkContainer to=\"#\">\r\n                                            <Button className='btn-sm'>Details</Button>\r\n                                        </LinkContainer>\r\n                                    </td>\r\n                                </tr>\r\n                            ))} \r\n                        </tbody>\r\n                    </Table>                      \r\n                </Col>           \r\n            </Row>                            \r\n        </>\r\n\r\n    )\r\n}\r\n}\r\nexport default ProfileScreen"]},"metadata":{},"sourceType":"module"}