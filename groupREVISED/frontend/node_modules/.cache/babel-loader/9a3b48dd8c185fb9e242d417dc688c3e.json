{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dracumel\\\\Desktop\\\\group project\\\\groupREVISED\\\\frontend\\\\src\\\\screens\\\\StoreScreen.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport React from 'react';\nimport { Row, Col, Container, Form, Button } from 'react-bootstrap';\nimport Product from '../components/Product';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction StoreScreen() {\n  _s();\n\n  const [category, categoryValue] = useState(\"\");\n  const [price, priceValue] = useState(\"0\");\n  const [rating, ratingValue] = useState(\"\");\n  const [products, setProducts] = useState([]); //empty array\n\n  const [autoCompleteProducts, setAutoCompleteProducts] = useState([]);\n  const [filters, setFilters] = useState([]);\n  const [text, setText] = useState([]);\n  const [suggestions, setSuggestions] = useState([]);\n  const loggedUser = localStorage.getItem('user');\n\n  const sendSuggestion = async () => {\n    const {\n      data\n    } = await axios.get(`api/filters/title/${text}`);\n    setProducts([data]);\n  };\n\n  const onSuggestHandler = text => {\n    setText(text);\n    setSuggestions([]);\n  };\n\n  const onChangeHandler = text => {\n    var matches = [];\n\n    if (text.length > 0) {\n      matches = autoCompleteProducts.filter(product => {\n        const regex = new RegExp(`${text}`, \"gi\");\n        return product.title.match(regex);\n      });\n    }\n\n    setText(text);\n    setSuggestions(matches);\n  };\n\n  useEffect(() => {\n    async function getfilters() {\n      const {\n        data\n      } = await axios.get('/api/filters/categories/');\n      setFilters(data);\n    }\n\n    getfilters();\n  }, []);\n  useEffect(() => {\n    async function fetchProducts() {\n      const {\n        data\n      } = await axios.get('/api/vinyls/');\n      setProducts(data);\n      setAutoCompleteProducts(data);\n    }\n\n    fetchProducts();\n  }, []);\n\n  const handlefilters = async e => {\n    e.preventDefault();\n    const {\n      data\n    } = await axios.get(`api/filters/?price__lte=${price}&category=${category}&rating__lte=${rating}`);\n    setProducts(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    style: {\n      paddingTop: \"2rem\",\n      paddingBottom: \"5rem\",\n      backgroundColor: \"orange\",\n      minHeight: \"610px\",\n      zIndex: \"-1\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        textAlign: \"center\",\n        height: \"20rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Latest Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        style: {\n          width: \"40%\",\n          height: \"18rem\",\n          alignItems: \"center\",\n          position: \"relative\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          className: \"searchForm\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"search\",\n            style: {\n              fontSize: \"20px\",\n              textAlign: \"center\",\n              height: \"5rem\",\n              width: \"70%\",\n              position: \"absolute\",\n              top: \"0%\",\n              left: \"14.2%\"\n            },\n            value: text,\n            onChange: ({\n              target\n            }) => onChangeHandler(target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            style: {\n              position: \"absolute\",\n              width: \"70%\",\n              top: \"27.5%\",\n              left: \"14.2%\",\n              zIndex: \"1\"\n            },\n            children: suggestions && suggestions.map((suggestion, i) => /*#__PURE__*/_jsxDEV(Col, {\n              onClick: () => onSuggestHandler(suggestion.title),\n              style: {\n                fontSize: \"20px\",\n                textAlign: \"center\",\n                height: \"3.5rem\",\n                width: \"100%\",\n                fontWeight: \"900\",\n                backgroundColor: \"#66A182\"\n              },\n              className: \"suggestion col-mid-12 justify-content-md-center\",\n              children: suggestion.title\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 32\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"button\",\n            className: \"submitButton\",\n            style: {\n              width: \"15.8%\",\n              height: \"50px\",\n              fontSize: \"15px\",\n              position: \"absolute\",\n              top: \"0%\",\n              right: \"0%\"\n            },\n            onClick: sendSuggestion,\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xl: 3,\n        style: {\n          textAlign: \"center\",\n          paddingLeft: \"5%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          style: {\n            border: \"1px solid black\",\n            borderRadius: \"2rem\",\n            width: \"80%\",\n            height: \"40rem\",\n            backgroundColor: \"white\"\n          },\n          onSubmit: handlefilters,\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            style: {\n              padding: \"1rem\",\n              margin: \"0\",\n              fontSize: \"19px\",\n              backgroundColor: \"\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              style: {\n                marginRight: \"1rem\"\n              },\n              children: \"Change\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 33\n            }, this), \"Filters\", /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              style: {\n                marginLeft: \"1rem\"\n              },\n              children: \"to find:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n            style: {\n              fontSize: \"20px\"\n            },\n            children: \"Music Categories\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            style: {\n              fontSize: \"20px\",\n              textAlign: \"center\",\n              height: \"5rem\",\n              width: \"70%\",\n              margin: \"0rem 15% 0rem 15%\",\n              borderRadius: \"2rem\"\n            },\n            onChange: ({\n              target\n            }) => categoryValue(target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              disabled: true,\n              selected: true,\n              children: \"Choose\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 33\n            }, this), filters.map(filter => /*#__PURE__*/_jsxDEV(\"option\", {\n              children: filter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 37\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n            style: {\n              fontSize: \"20px\",\n              marginTop: \"1rem\"\n            },\n            children: \"Rating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            style: {\n              fontSize: \"20px\",\n              textAlign: \"center\",\n              height: \"5rem\",\n              width: \"70%\",\n              margin: \"0rem 15% 0rem 15%\",\n              borderRadius: \"2rem\"\n            },\n            onChange: ({\n              target\n            }) => ratingValue(target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              disabled: true,\n              selected: true,\n              children: \"Choose\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1\",\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2\",\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"3\",\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"4\",\n              children: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"5\",\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n            style: {\n              fontSize: \"20px\",\n              marginTop: \"1rem\"\n            },\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"fieldset\",\n            className: \"form-group\",\n            style: {\n              fontSize: \"20px\",\n              textAlign: \"center\",\n              height: \"5rem\",\n              width: \"70%\",\n              margin: \"0rem 15% 0rem 15%\",\n              borderRadius: \"2rem\"\n            },\n            children: [price, /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              className: \"form-range\",\n              id: \"customRange1\",\n              min: \"0\",\n              max: \"200\",\n              value: price,\n              style: {\n                padding: \"0rem\"\n              },\n              onChange: ({\n                target\n              }) => priceValue(target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            className: \"submitButton\",\n            style: {\n              fontSize: \"20px\",\n              textAlign: \"center\",\n              height: \"5rem\",\n              width: \"90%\",\n              margin: \"1.5rem 15% 0rem 5%\",\n              borderRadius: \"2rem\"\n            },\n            children: \"CLick me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xl: 9,\n        style: {\n          overflow: \"auto\"\n        },\n        children: products.map(product => /*#__PURE__*/_jsxDEV(Col, {\n          sm: 12,\n          md: 6,\n          lg: 1,\n          xl: 1,\n          style: {\n            marginRight: \"10rem\",\n            height: \"30rem\",\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Product, {\n            product: product\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 29\n          }, this)\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 13\n  }, this);\n}\n\n_s(StoreScreen, \"tnqKy0cz6TWVXQGYcprVzXQBFGU=\");\n\n_c = StoreScreen;\nexport default StoreScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreScreen\");","map":{"version":3,"sources":["C:/Users/Dracumel/Desktop/group project/groupREVISED/frontend/src/screens/StoreScreen.js"],"names":["useState","useEffect","React","Row","Col","Container","Form","Button","Product","axios","StoreScreen","category","categoryValue","price","priceValue","rating","ratingValue","products","setProducts","autoCompleteProducts","setAutoCompleteProducts","filters","setFilters","text","setText","suggestions","setSuggestions","loggedUser","localStorage","getItem","sendSuggestion","data","get","onSuggestHandler","onChangeHandler","matches","length","filter","product","regex","RegExp","title","match","getfilters","fetchProducts","handlefilters","e","preventDefault","paddingTop","paddingBottom","backgroundColor","minHeight","zIndex","textAlign","height","width","alignItems","position","fontSize","top","left","target","value","map","suggestion","i","fontWeight","right","paddingLeft","border","borderRadius","padding","margin","marginRight","marginLeft","marginTop","overflow","id"],"mappings":"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","sourcesContent":["import {useState , useEffect} from 'react'\r\nimport React from 'react'\r\nimport {Row , Col, Container , Form, Button} from 'react-bootstrap'\r\nimport Product from '../components/Product'\r\nimport axios from 'axios'\r\n\r\nfunction StoreScreen() {\r\n    \r\n    const [category , categoryValue] = useState(\"\")\r\n    const [price , priceValue]       = useState(\"0\")\r\n    const [rating , ratingValue]       = useState(\"\")\r\n    const [products , setProducts]   = useState([]) //empty array\r\n    const [autoCompleteProducts , setAutoCompleteProducts]  = useState([])\r\n    const [filters , setFilters]   = useState([])\r\n\r\n    const [text ,setText] = useState([])\r\n    const [suggestions , setSuggestions] = useState([])\r\n\r\n    const loggedUser = localStorage.getItem('user')\r\n\r\n    const sendSuggestion = async() => {\r\n        const {data} = await axios.get(`api/filters/title/${text}`)\r\n        setProducts([data])   \r\n    }\r\n    \r\n    const onSuggestHandler = (text) => {\r\n        setText(text)\r\n        setSuggestions([])  \r\n    }\r\n\r\n    const onChangeHandler = (text) => {\r\n        var matches = []\r\n        if (text.length > 0) {\r\n            matches = autoCompleteProducts.filter(product =>{\r\n                const regex = new RegExp(`${text}` , \"gi\")\r\n                return product.title.match(regex)\r\n            })\r\n        } \r\n        setText(text)\r\n        setSuggestions(matches)\r\n        \r\n    }\r\n   \r\n\r\n    useEffect(() => {  \r\n        async function getfilters() { \r\n            const {data} = await axios.get('/api/filters/categories/' ) \r\n            setFilters(data)\r\n        }\r\n        getfilters()\r\n       \r\n    } , []) \r\n\r\n\r\n    useEffect(() => {  \r\n        async function fetchProducts(){ \r\n            const {data} = await axios.get('/api/vinyls/') \r\n            setProducts(data)\r\n            setAutoCompleteProducts(data)\r\n        }\r\n        fetchProducts()\r\n       \r\n    } , []) \r\n\r\n\r\n   \r\n        const handlefilters = async(e) => {\r\n            e.preventDefault();\r\n            const {data} = await axios.get(`api/filters/?price__lte=${price}&category=${category}&rating__lte=${rating}`)\r\n            setProducts(data)\r\n        }\r\n\r\n    return (      \r\n            <Container fluid style={{paddingTop:\"2rem\" ,\r\n                                     paddingBottom:\"5rem\" ,\r\n                                     backgroundColor:\"orange\",\r\n                                     minHeight:\"610px\",\r\n                                     zIndex:\"-1\"}}>\r\n\r\n                <Row style={{textAlign:\"center\" , height:\"20rem\" }}>\r\n                    <h1>Latest Products</h1> \r\n                    <Container style={{width:\"40%\" ,height:\"18rem\" ,alignItems:\"center\",position:\"relative\"}}>\r\n                        <Form  className=\"searchForm\">\r\n                            <Form.Control type=\"search\"  style={{fontSize:\"20px\",\r\n                                                                textAlign:\"center\",\r\n                                                                height:\"5rem\",\r\n                                                                width:\"70%\",\r\n                                                                position:\"absolute\",\r\n                                                                top:\"0%\",\r\n                                                                left:\"14.2%\"\r\n                                                                }}\r\n                                value={text} onChange={({target})=> onChangeHandler(target.value)}>\r\n                            </Form.Control>\r\n                            <Form.Group style={{position:\"absolute\",\r\n                                                width:\"70%\",\r\n                                                top:\"27.5%\",\r\n                                                left:\"14.2%\",\r\n                                                zIndex:\"1\"\r\n                                               }}>\r\n                            {suggestions && suggestions.map((suggestion , i) => \r\n                               <Col key={i} onClick={() => onSuggestHandler(suggestion.title)} style={{fontSize:\"20px\",\r\n                                                                                                       textAlign:\"center\",\r\n                                                                                                       height:\"3.5rem\",\r\n                                                                                                       width:\"100%\",\r\n                                                                                                       fontWeight:\"900\",\r\n                                                                                                       backgroundColor:\"#66A182\",\r\n                                                                                                        }}\r\n                                            className=\"suggestion col-mid-12 justify-content-md-center\">\r\n                                    {suggestion.title}\r\n                               </Col>\r\n                            )}\r\n                            </Form.Group>\r\n                            <Button type=\"button\"  className=\"submitButton\"  style={{width: \"15.8%\",\r\n                                                                                    height: \"50px\",\r\n                                                                                    fontSize: \"15px\",\r\n                                                                                    position:\"absolute\",\r\n                                                                                    top:\"0%\",\r\n                                                                                    right:\"0%\"\r\n                                                                                    }} \r\n                                    onClick={sendSuggestion}>\r\n                                Search\r\n                            </Button>\r\n                        </Form>\r\n                    </Container>\r\n                </Row>\r\n                <Row >            \r\n                    <Col xl={3} style={{textAlign:\"center\",\r\n                                        paddingLeft:\"5%\",\r\n                                       }}>\r\n                        <Form style={{border:\"1px solid black\",\r\n                                      borderRadius:\"2rem\",\r\n                                      width:\"80%\",\r\n                                      height:\"40rem\",\r\n                                      backgroundColor:\"white\"\r\n                                    }}\r\n                                onSubmit={handlefilters}>\r\n                            <Form.Label  style={{padding:\"1rem\",\r\n                                                 margin:\"0\",\r\n                                                 fontSize:\"19px\",\r\n                                                 backgroundColor:\"\"}}>    \r\n                                <small className=\"text-muted\" style={{marginRight:\"1rem\"}}>Change</small>\r\n                                    Filters \r\n                                <small className=\"text-muted\" style={{marginLeft:\"1rem\"}}>to find:</small>       \r\n                            </Form.Label>\r\n                            <Form.Label style={{fontSize:\"20px\"}}>Music Categories</Form.Label>\r\n                            <Form.Control as=\"select\"  style={{fontSize:\"20px\",\r\n                                                               textAlign:\"center\",\r\n                                                               height:\"5rem\",\r\n                                                               width:\"70%\",\r\n                                                               margin:\"0rem 15% 0rem 15%\",\r\n                                                               borderRadius:\"2rem\",\r\n                                                              }}\r\n                                        onChange={({ target }) => categoryValue(target.value)}>\r\n                                    \r\n                                <option disabled selected >Choose</option>\r\n                                {filters.map(filter => (\r\n                                    <option>{filter}</option>\r\n                                ))}\r\n                            </Form.Control>\r\n                            <Form.Label style={{fontSize:\"20px\" , marginTop:\"1rem\"}}>Rating</Form.Label>\r\n                            <Form.Control as=\"select\"  style={{fontSize:\"20px\",\r\n                                                               textAlign:\"center\",\r\n                                                               height:\"5rem\",\r\n                                                               width:\"70%\",\r\n                                                               margin:\"0rem 15% 0rem 15%\",\r\n                                                               borderRadius:\"2rem\",\r\n                                                              }}\r\n                                        onChange={({ target }) => ratingValue(target.value)}>\r\n                                <option disabled selected >Choose</option>\r\n                                <option value=\"1\">1</option>\r\n                                <option value=\"2\">2</option>\r\n                                <option value=\"3\">3</option>\r\n                                <option value=\"4\">4</option>\r\n                                <option value=\"5\">5</option>\r\n                            </Form.Control>\r\n                            <Form.Label style={{fontSize:\"20px\" , marginTop:\"1rem\"}}>Price</Form.Label>\r\n                            <Form.Control as=\"fieldset\"  className=\"form-group\" style={{fontSize:\"20px\",\r\n                                                                                        textAlign:\"center\",\r\n                                                                                        height:\"5rem\",\r\n                                                                                        width:\"70%\",\r\n                                                                                        margin:\"0rem 15% 0rem 15%\",\r\n                                                                                        borderRadius:\"2rem\",\r\n                                                                                        }}>       \r\n                                {price}\r\n                                <input type=\"range\" className=\"form-range\" id=\"customRange1\" min=\"0\" max=\"200\" value={price}\r\n                                       style={{padding:\"0rem\"}} onChange={({target}) => priceValue(target.value)}/>   \r\n                            </Form.Control>   \r\n                                <Button type=\"submit\" className=\"submitButton\" style={{ fontSize:\"20px\",\r\n                                                                                        textAlign:\"center\",\r\n                                                                                        height:\"5rem\",\r\n                                                                                        width:\"90%\",\r\n                                                                                        margin:\"1.5rem 15% 0rem 5%\",\r\n                                                                                        borderRadius:\"2rem\",\r\n                                                                                        }}> \r\n                                CLick me\r\n                            </Button>            \r\n                        </Form>\r\n                    </Col>\r\n                    <Col xl={9} style={{overflow:\"auto\"}}>\r\n                        {products.map(product => (\r\n                        <Col  key={product.id} sm={12} md={6} lg={1} xl={1} style={{marginRight:\"10rem\",\r\n                                                                                    height:\"30rem\",\r\n                                                                                    textAlign:\"center\",\r\n                                                                                    }} >\r\n                            <Product product={product}/>\r\n                        </Col>\r\n                    ))}\r\n                    </Col>     \r\n                </Row>\r\n            </Container>  \r\n    )\r\n}\r\n\r\nexport default StoreScreen"]},"metadata":{},"sourceType":"module"}